{ include("$jacamoJar/templates/common-cartago.asl") }
{ include("$jacamoJar/templates/common-moise.asl") }
{ include("decomp_breadth.asl") }
{ include("bidder.asl") }
{ include("parser.asl") }

/* Initial beliefs and rules */
role(usv).

/* Initial goals */
!start.

/* Plans */
+!navigate(To)
	: at(From)
<-
	!navigate(_,From,To);
	.
	
+!navigate_usv(_,From,To)
	: focused(_,From,Id1) & water_path(Areas)[artifact_id(Id1)] & .my_name(Name) & focused(_,Name,Id2)
<-
	navigate(From,To,Areas)[artifact_id(Id)];
	.
	
//+!navigate(From,To)
//	: ground_path(From,Mid) & (not visited(Mid)) & .my_name(Name) & jcm__art(_,Name,Id)
//<-
//	!navigate(From,Mid);
//	!navigate(Mid,To);
//	.
	
+!take_picture(_,Area,Disaster)
	: focused(_,Disaster,Id1) & visible_from(Areas)[artifact_id(Id1)] & .my_name(Name) & focused(_,Name,Id2)
<-
	take_picture(Area,Disaster,Areas)[artifact_id(Id2)];
	.
	
+!communicate_data(_,Cdm,Disaster,At,To)
	: focused(_,Cdm,Id1) & cdm_at(CdmAt)[artifact_id(Id1)] & in_range(Areas)[artifact_id(Id1)] & .my_name(Name) & focused(_,Name,Id2)
<-
	communicate_data(At,To,CdmAt,Disaster,Areas)[artifact_id(Id2)];
	.
	
+!sample_water(_,_,Area)
	: .my_name(Name) & focused(_,Name,Id)
<-
	sample_water(Area)[artifact_id(Id)];
	.
	
+!drop_sample(_,_,Area,Box)
	: focused(_,Box,Id1) & .my_name(Name) & focused(_,Name,Id3)
<-
	drop_box(Area,Id1)[artifact_id(Id3)];
	.
	
	
+!start <- !navigate_usv(usv1,area1,area2); !navigate_usv(usv1,area2,area4); !navigate_usv(usv1,area4,area9); !navigate_usv(usv1,area9,area8); !sample_water(usv1,usv1store,area8); !navigate_usv(usv1,area8,area9); !navigate_usv(usv1,area9,area13); !drop_sample(usv1,usv1store,area13,area8,cdm2).
